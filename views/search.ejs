<%- include('partials/header', { title: 'Search results – AuroraStay' }) %>

<section class="section">
  <div class="container search-layout">
    <aside class="search-filters">
      <h2>Search filters</h2>
      <form action="/search" method="get" class="filter-form">
        <div class="field-group">
          <label for="city">City</label>
          <input
            type="text"
            id="city"
            name="city"
            value="<%= city || '' %>"
            placeholder="e.g. Goa"
          />
        </div>
        <div class="field-group">
          <label for="checkin">Check‑in</label>
          <input type="date" id="checkin" name="checkin" value="<%= checkin || '' %>" />
        </div>
        <div class="field-group">
          <label for="checkout">Check‑out</label>
          <input type="date" id="checkout" name="checkout" value="<%= checkout || '' %>" />
        </div>
        <div class="field-group">
          <label for="guests">Guests</label>
          <input
            type="number"
            id="guests"
            name="guests"
            min="1"
            value="<%= guests || 2 %>"
          />
        </div>
        <button class="btn-primary full-width" type="submit">Update results</button>
      </form>
    </aside>

    <div class="search-results">
      <header class="search-header">
        <h1>Available hotels</h1>
        <% if (city) { %>
          <p>Showing results for <strong><%= city %></strong>.</p>
        <% } else { %>
          <p>Showing all available hotels.</p>
        <% } %>
      </header>

      <% if (hotels.length === 0) { %>
        <div class="empty-state">
          <h3>No hotels found</h3>
          <p>Try searching another city or adjusting your dates.</p>
        </div>
      <% } else { %>
        <div class="list">
          <% hotels.forEach(function(hotel) { %>
            <a href="/hotel/<%= hotel.id %>" class="hotel-row">
              <div class="hotel-row-image" style="background-image: url('<%= hotel.image_url %>')"></div>
              <div class="hotel-row-body">
                <h3><%= hotel.name %></h3>
                <p class="hotel-row-city"><%= hotel.city %></p>
                <p class="hotel-row-desc"><%= hotel.description %></p>
              </div>
              <div class="hotel-row-side">
                <span class="rating large">★ <%= hotel.rating.toFixed(1) %></span>
                <span class="cta-link">View details →</span>
              </div>
            </a>
          <% }) %>
        </div>
      <% } %>
    </div>
  </div>
</section>

<%- include('partials/footer') %>

